<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>03-Architecture Document</title>

	<link rel="stylesheet" href="../../css/style.css">
	<meta name="viewport" content="initial-scale=1, maximum-scale=1.4">
	<meta name="generator" content="appledoc 2.2.1 (build 1334)">
</head>
<body class="appledoc">
	<header>
		<div class="container" class="hide-in-xcode">
			
			<h1 id="library-title">
				<a href="../../index.html">NXLogging </a>
			</h1>

			<p id="developer-home">
				<a href="../../index.html">Naxos Software Solutions GmbH</a>
			</p>
			
		</div>
	</header>

	<aside>
		<div class="container">
			<nav>
				<ul id="header-buttons" role="toolbar">
					<li><a href="../../index.html">Home</a></li>
				</ul>
			</nav>
		</div>
	</aside>

	<article>
		<div id="overview-contents" class="container">
			<div id="content">
				<main role="main">
					<h1 class="title">03-Architecture Document</h1>

					<h1>Architecture</h1>

<p>When, in Objective C, you log a message by writing</p>

<pre><code>NXLog(NXLogLevelInfo, @"A simple log message");
</code></pre>

<p>you are actually using a preprocessor macro and you could have also written</p>

<pre><code>[[NXLogger applicationLogger] log:level info:NX_LOG_INFO format:@"A simple log message"];
</code></pre>

<p>The first thing we notice is the <em><a href="../../Classes/NXLogger.html">NXLogger</a></em> class and when we look at its definition we find two readonly properties:</p>

<pre><code>NSString *name;

NSArray&lt;idNXLogTarget&gt; *targets;
</code></pre>

<p>So, a logger instance of the <em><a href="../../Classes/NXLogger.html">NXLogger</a></em> class has a <strong>name</strong> and several <strong>log targets</strong>, which conform to the protocol <em><a href="../../Protocols/NXLogTarget.html">NXLogTarget</a></em>. The static method <em>applicationLogger</em> looks up and &mdash;in case it does not yet exist&mdash; creates a logger with a name identical to the <strong>bundle identifier</strong> of your application and pre-configures it with two log targets, which are singleton instances of the <em><a href="../../Classes/NXSystemLogTarget.html">NXSystemLogTarget</a></em> (logs via ASL to the system log) and <em><a href="../../Classes/NXConsoleLogTarget.html">NXConsoleLogTarget</a></em> (logs to the debug console) classes. You can access these pre-configured log targets globally with the static <em>sharedInstance</em> method of the respective classes.</p>

<p>The <em><a href="../../Protocols/NXLogTarget.html">NXLogTarget</a></em> protocol defines the two read/write properties</p>

<pre><code>NXLogLevel maxLogLevel;

idNXLogFormatter logFormatter;
</code></pre>

<p>which introduce the <em>NXLogLevel</em> enum type and the <em><a href="../../Protocols/NXLogFormatter.html">NXLogFormatter</a></em> protocol. At this point you know pretty much everything there is to the basic concept of NXLogging. Let&rsquo;s summarise by looking at the entity relationship:</p>

<p><em><a href="../../Classes/NXLogger.html">NXLogger</a></em> (n)&mdash;&mdash;(n) <em><a href="../../Protocols/NXLogTarget.html">NXLogTarget</a></em> (n)&mdash;&mdash;(1) <em><a href="../../Protocols/NXLogFormatter.html">NXLogFormatter</a></em></p>

<p>In words, a <strong>logger</strong> holds one or more <strong>log targets</strong> and a log target holds one <strong>log formatter</strong>. What you can also see from the relationship model is, that every log target can be used in many loggers, and every log formatter can be used in many log targets. This is important knowledge, because it infers that every implementation of the protocols <em><a href="../../Protocols/NXLogTarget.html">NXLogTarget</a></em> and <em><a href="../../Protocols/NXLogFormatter.html">NXLogFormatter</a></em> must be thread-safe.</p>

<p>While the static method <em>applicationLogger</em> of the <em><a href="../../Classes/NXLogger.html">NXLogger</a></em> class looks-up/creates a logger instance with your bundle identifier as the logger&rsquo;s name, you can also look-up/create named loggers with the static method <em>loggerNamed:</em>. Again these loggers will be pre-configured to log to the system log and the debug console. If you want to have full control over how a logger is configured, you can also instantiate it manually with the constructor <em>initWithName:target:</em>. In order to be able to look-up a manually instantiated logger via the <em>loggerNamed:</em> method, you must register the logger instance with the static method <em>registerLogger:</em> of the <em><a href="../../Classes/NXLogger.html">NXLogger</a></em> class.</p>

<p>When you instantiate a logger manually, you have to pass a name and a log target to the constructor. As log targets you can use the shared instances of <em><a href="../../Classes/NXSystemLogTarget.html">NXSystemLogTarget</a></em> or <em><a href="../../Classes/NXConsoleLogTarget.html">NXConsoleLogTarget</a></em>, or instantiate a log target manually with <em>initWithFormatter:</em>. The shared instance of <em><a href="../../Classes/NXSystemLogTarget.html">NXSystemLogTarget</a></em> is pre-configured with a <em><a href="../../Classes/NXSystemLogFormatter.html">NXSystemLogFormatter</a></em> and the shared instance of <em><a href="../../Classes/NXConsoleLogTarget.html">NXConsoleLogTarget</a></em> uses a <em><a href="../../Classes/NXDebugLogFormatter.html">NXDebugLogFormatter</a></em> to format the log messages. Again, these pre-configured log formatter instances are globally accessible via their static <em>sharedInstance</em> methods. Both, the <em><a href="../../Classes/NXSystemLogFormatter.html">NXSystemLogFormatter</a></em> and the <em><a href="../../Classes/NXDebugLogFormatter.html">NXDebugLogFormatter</a></em> classes inherit from the <em><a href="../../Classes/NXBasicLogFormatter.html">NXBasicLogFormatter</a></em> class.</p>

<p>To learn more about how you can configure the logging system, read <a href="04-Customisation.html">Customisation</a>, and if you want to create your own log targets or log formatters, read <a href="05-Extensions.html">Extensions</a>.</p>

					<footer>
						<div class="footer-copyright">
							
							<p class="copyright">Copyright &copy; 2016 Naxos Software Solutions GmbH. All rights reserved. Updated: 2016-06-02</p>
							
							
							<p class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.2.1 (build 1334)</a>.</p>
							
						</div>
					</footer>
				</main>
			</div>
		</div>
	</article>

	<script src="../../js/script.js"></script>
</body>
</html>